 

ä¸€ã€å¯å˜å‚æ•°æ¨¡ç‰ˆã€c++11ã€‘
---------------

*   **c++11ä¹‹å‰**ï¼Œæ¨¡ç‰ˆtemplateï¼Œ**åªèƒ½ä½¿ç”¨å›ºå®šçš„å‚æ•°æ•°é‡**ã€‚
    
*   ä½†æ˜¯å¯å˜æ¨¡ç‰ˆå¯ä»¥è®©ä½ **æ‹¥æœ‰å¤šä¸ªå„ç§ç±»å‹çš„å‚æ•°**ã€‚
    
*   æˆ‘ä»¬æŠŠ**å¸¦çœç•¥å·çš„å‚æ•°**ç§°ä¸º**å‚æ•°åŒ…**ï¼Œå‚æ•°åŒ…é‡Œé¢å¯ä»¥åŒ…å«0åˆ°N ä¸ªæ¨¡æ¿å‚æ•°ï¼Œè€Œargsåˆ™æ˜¯ä¸€ä¸ªå‡½æ•°å½¢å‚å‚æ•°åŒ…ã€‚
    
*   æ¨¡ç‰ˆä¸€å¦‚ä¸‹ï¼Œä½¿ç”¨**é€’å½’å±•å¼€**
    

```cpp
// é€’å½’ç»ˆæ­¢æ¡ä»¶
void print() { cout << endl; } 
//ğŸ åŸºæœ¬è¯­æ³•ï¼štypename... Args è¡¨ç¤ºå¯å˜å‚æ•°åŒ…
template<typename T, typename... Args> // Argsæ˜¯ç±»å‹å‚æ•°åŒ…
void print(T first, Args... rest) {     // restæ˜¯å€¼å‚æ•°åŒ…
    cout << first << " ";
    print(rest...); // é€’å½’å±•å¼€å‚æ•°åŒ…
}

//ğŸ“Œ ä½¿ç”¨ç¤ºä¾‹
print(1, 3.14, "hello"); // è¾“å‡ºï¼š1 3.14 hello 

```

*   æ¨¡ç‰ˆäºŒå¦‚ä¸‹ï¼Œ**ä½¿ç”¨if constexprç»“åˆsizeofâ€¦(args)çš„æ–¹å¼å±•å¼€**

```cpp
template<class T,class...U >

void test(T first,U...others){
    cout<<first<<endl;
    if constexpr (sizeof...(others)>0){
        test(others...);
    }
    
}
int main(){
    test(11,22,33,44,55,66);
    //11 22 33 44 55
}
```

*   **æ ¸å¿ƒç‰¹ç‚¹**ï¼š**å…è®¸å‡½æ•°/ç±»æ¥å—ä»»æ„æ•°é‡/ç±»å‹çš„å‚æ•°**ï¼Œæ˜¯C++11å¼•å…¥çš„é‡è¦ç‰¹æ€§ã€‚
    
*   **ç»Ÿè®¡å‚æ•°æ•°é‡çš„æ–¹å¼**
    

```cpp
template<typename... Args>
void countArgs(Args... args) {
    cout << sizeof...(args) << endl; // å…³é”®ç¬¦sizeof...
}

```

äºŒã€æŠ˜å è¡¨è¾¾å¼ã€c++17ã€‘
--------------

### 1ã€äº†è§£

*   ä¸€å…±å°±4ç§å½¢å¼  
    ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/9eca50441379400a9b040d0ea934f41c.png)
*   **æœ¬è´¨ä½œç”¨**ï¼š**æä¾›å•è¡Œè¡¨è¾¾å¼å±•å¼€å‚æ•°åŒ…çš„èƒ½åŠ›**ï¼Œ**å–ä»£ä¼ ç»Ÿçš„é€’å½’å±•å¼€æ–¹å¼**ï¼Œä»£ç æ›´ç®€æ´ã€æ€§èƒ½æ›´å¥½ã€‚
    *   opæ˜¯äºŒå…ƒæ“ä½œç¬¦
    *   argsæ˜¯å‚æ•°åŒ…
    *   initæ˜¯åˆå§‹å€¼ã€‚

> æŠ˜å è¡¨è¾¾å¼æ”¯æŒæ‰€æœ‰C++ä¸­çš„**äºŒå…ƒæ“ä½œç¬¦**ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š(äº†è§£ä¸€ä¸‹å°±è¡Œäº†)  
> ç®—æœ¯è¿ç®—ç¬¦ï¼š+, -, \*, /, %  
> é€»è¾‘è¿ç®—ç¬¦ï¼š&&, ||  
> æ¯”è¾ƒè¿ç®—ç¬¦ï¼š==, !=, <, >, <=, >=  
> ä½è¿ç®—ç¬¦ï¼š&, |, ^, <<, >>

### 2ã€å·¦æŠ˜å 

*   ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹

```cpp
#include<iostream>
#include<cstdio>
using namespace std;

template <class ...Args>
auto sum(Args...args){
    return (args+...);
}
int main(){
    int s=sum(1,2,3,4,5);
    printf("%d",s);//15=((((1+2)+3)+4)+5)
}
```

### 3ã€å³æŠ˜å 

*   ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹

```cpp
template <class ...Args>
auto sum(Args...args){
    return (...+args);
}
int main(){
    int s=sum(1,2,3,4,5);
    printf("%d",s);//15=(1+(2+(3+(4+5))))
}
```

### 4ã€å·¦æŠ˜å å¸¦åˆå§‹

*   æ“ä½œå¼€å§‹æ—¶ï¼Œæœ‰ä¸ªåˆå§‹å€¼

```cpp
template <typename T,class ...Args>
auto sum(T init,Args...args){
    int s= ((init)+...+args);
    return s;
}
int main(){
    int s=sum((1*10),1,2,3,4,5);
    printf("%d",s);//25
}
```

### 5ã€å³æŠ˜å å¸¦åˆå§‹

*   æ“ä½œç»“æŸæ—¶ï¼Œæœ‰ä¸ªåˆå§‹å€¼

```cpp
template <typename T,class ...Args>
auto sum(T init,Args...args){
    int s= (args+...+(init));
    return s;
}
int main(){
    int s=sum((1*10),1,2,3,4,5);
    printf("%d",s);//25
}
```

### 6ã€æ³¨æ„

*   å¸¦åˆå§‹çš„æŠ˜å ï¼Œå·¦å³2è¾¹ op ç¬¦å·è¦ä¸€è‡´
*   å¯ä»¥ä½¿ç”¨ sizeof â€¦(args)è·å– å‚æ•°æ•°é‡
*   init é‡Œæœ‰ opç¬¦å·çš„è¯ï¼Œè¦æŠŠå®ƒä»¬æ‹¬èµ·æ¥ æ¯”å¦‚ init æ˜¯ 1 \* 2ï¼Œå°±è¦å†™æˆ (args +â€¦+(1 \* 2))

æœ¬æ–‡è½¬è‡ª <https://blog.csdn.net/2401_82911768/article/details/146718843?spm=1001.2014.3001.5502>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚